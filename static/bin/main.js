// Generated by CoffeeScript 1.9.3
(function() {
  var appModule;

  appModule = angular.module("app", []);

  appModule.controller("ChartController", [
    "$scope", "$interval", function($scope, $interval) {
      $scope.interval_running = false;
      $scope.stacked_barchart_data = window.gen_stackedbarchart_data();
      $scope.start_update = function() {
        if ($scope.interval_running === false) {
          return $scope.interval_running = $interval(function() {
            return $scope.stacked_barchart_data = window.gen_stackedbarchart_data();
          }, 750);
        }
      };
      return $scope.stop_update = function() {
        if ($scope.interval_running != null) {
          $interval.cancel($scope.interval_running);
          return $scope.interval_running = false;
        }
      };
    }
  ]);

  appModule.directive("stackedBarChart", function() {
    return {
      restrict: "E",
      link: function($scope, el, attrs) {
        var chart;
        chart = new window.StackedBarChart();
        return $scope.$watch("stacked_barchart_data", function() {
          return chart.render(el[0], $scope.stacked_barchart_data);
        });
      }
    };
  });

}).call(this);
